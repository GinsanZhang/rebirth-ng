<template #defaultHeadTemplate let-head="">
  <tr>
    <th *ngIf="checkable">
      <form class="form-inline">
        <div class="form-group">
          <div class="checkbox">
            <label>
              <input type="checkbox" name="checkAll" [(ngModel)]="allChecked" (change)="onCheckAllChange()">
            </label>
          </div>
        </div>
      </form>
    </th>
    <th *ngFor="let column of head.columns" (click)="head.onHeadClick(column)">{{column.header}} <i
      *ngIf="head.sortField == column.field" class="glyphicon"
      [ngClass]="{ 'glyphicon-triangle-bottom': head.sortDirection == 'DESC','glyphicon-triangle-top': head.sortDirection == 'ASC' }"></i>
    </th>
  </tr>
</template>

<template #defaultFilterTemplate let-head="" let-column="column">
  <input type="text" class="form-control search" [(ngModel)]="head.searchQuery[column.field]" [name]="column.field"
         (keydown.enter)="head.onSearchQueryChange()" (change)="head.onSearchQueryChange()"/>
</template>

<ng-container>
  <template
    [ngTemplateOutlet]="headTemplate ? headTemplate.template : defaultHeadTemplate"
    [ngOutletContext]="{ $implicit: this }">
  </template>
  <!--filter row-->
  <tr *ngIf="hasAnyFilterColumns(columns)">
    <th *ngIf="checkable"></th>
    <th *ngFor="let column of columns">
      <ng-container *ngIf="canFilterable(column)">
        <template
          [ngTemplateOutlet]="column.cellFilterCmp ? column.cellFilterCmp.template : defaultFilterTemplate"
          [ngOutletContext]="{ $implicit: this , column: column}">
        </template>
      </ng-container>
    </th>
  </tr>
</ng-container>
